{"version":3,"file":"app.js","mappings":";;;;;;AAAA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AC5DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AClED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kB;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,QAAQ,aAAa,QAAQ;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://loftschool/./src/assets/js/app.js","webpack://loftschool/./src/assets/js/formModal.js","webpack://loftschool/./src/assets/js/horixontalMenu.js","webpack://loftschool/./src/assets/js/map.js","webpack://loftschool/./src/assets/js/sliderReviews.js","webpack://loftschool/./src/assets/js/slider_shop.js","webpack://loftschool/./src/assets/js/teamAccardion.js","webpack://loftschool/./src/assets/js/videoPlayer.js"],"sourcesContent":["// Бургер меню с открытием навигации начало\r\n$(\"#jsburger\").on(\"click\", function (event) {\r\n    event.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\n\r\n    $(this).toggleClass(\"active\");\r\n    $(\"#jsnav\").toggleClass(\"active\");\r\n});\r\n// Бургер меню с открытием навигации конец\r\n\r\n\r\n","\r\nconst validateFields = (form, fieldsArray) => {\r\n\r\nfieldsArray.forEach(field => {\r\n    field.removeClass(\"input-error\");\r\n    if (field.val().trim() === \"\") {\r\n        field.addClass(\"input-error\");\r\n    }\r\n});\r\nconst errorFields = form.find(\".input-error\");\r\nreturn errorFields.length === 0;\r\n};\r\n\r\n$('.form').submit(e => {\r\n  e.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\nconst form = $(e.currentTarget);\r\nconst name = form.find(\"[name='name']\");\r\nconst phone = form.find(\"[name='tel']\");\r\nconst comment = form.find(\"[name='comment']\");\r\nconst to = form.find(\"[name='to']\");\r\n\r\nconst modal = $(\"#modal\");\r\nconst content = modal.find(\".modal__content\");\r\n\r\nmodal.removeClass(\"error-modal\");\r\n\r\nconst isValid = validateFields(form, [name, phone, comment, to]);\r\n\r\nif (isValid) {\r\n    const request = $.ajax({\r\n        url: \"https://webdev-api.loftschool.com/sendmail\",\r\n        method: \"post\",\r\n        data: {\r\n            name: name.val(),\r\n            phone: phone.val(),\r\n            comment: comment.val(),\r\n            to: to.val(),\r\n        },\r\n    });\r\n    request.done(data => {\r\n        content.text(data.message);\r\n    });\r\n    request.fail(data => {\r\n        const message = data.responseJSON.message;\r\n        content.text(message);\r\n        modal.addClass(\"error-modal\");\r\n    });\r\n    request.always(() => {\r\n        $.fancybox.open({\r\n            src: \"#modal\",\r\n            type: \"inline\"\r\n        });\r\n    });\r\n}\r\n});\r\n\r\n$(\".js-submit-btn\").click(e => {\r\ne.preventDefault();\r\n\r\n$.fancybox.close();\r\n});\r\n","\r\nconst menu = document.getElementById('horixontalMenu');\r\nconst items = document.querySelectorAll(\".menu__item\");\r\n\r\nconst getItemWidth = (item) => {\r\n    let resultWidth = 524;\r\n    const windowWidth = window.innerWidth;\r\n    const itemWidth = item.offsetWidth;\r\n\r\n    const isTablet = window.matchMedia('(max-width: 768px)').matches;\r\n    const isMobile = window.matchMedia('(max-width: 480px)').matches;\r\n\r\n    if (isTablet) {\r\n        resultWidth = windowWidth - itemWidth * items.length;\r\n    }\r\n    if (isMobile) {\r\n        resultWidth = windowWidth - itemWidth;\r\n    }\r\n    return resultWidth;\r\n};\r\n\r\nconst opensItem = (item) => {\r\n\r\n    const itemParent = item.parentElement;\r\n    itemParent.classList.add('menu__item--active');\r\n    item.classList.add('menu__button--active');\r\n\r\n    const itemContent = item.nextElementSibling;\r\n    const itemText = itemContent.firstElementChild;\r\n    itemContent.style.width = `${getItemWidth(item)}px`;\r\n    itemText.style.width = `${getItemWidth(item)}px`;\r\n\r\n};\r\n\r\nconst closesItem = (item) => {\r\n    const itemParent = item.parentElement;\r\n    itemParent.classList.remove('menu__item--active');\r\n    item.classList.remove('menu__button--active');\r\n\r\n    const itemContent = item.nextElementSibling;\r\n    itemContent.style.width = 0;\r\n};\r\n\r\nmenu.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    const target = e.target; // ищем по чем мы кликаем\r\n    const isActive = target.classList.contains('menu__button--active');\r\n    const activeElement = document.querySelector(\".menu__button--active\");\r\n\r\n    if (target.classList.contains('menu__button') && isActive && activeElement) {\r\n        closesItem(target);\r\n    }\r\n\r\n    if (target.classList.contains('menu__button') && !isActive) {\r\n        if (activeElement) {\r\n            closesItem(activeElement);\r\n        }\r\n        opensItem(target);\r\n    }\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n    const activeElement = document.querySelector(\".menu__button--active\");\r\n    if (activeElement) {\r\n        closesItem(activeElement);\r\n}\r\n});\r\n","let myMap;\r\n\r\nconst init = () => {\r\n  myMap = new ymaps.Map(\"map\", {\r\n\r\n    // Задаем кардинаты\r\n    center: [55.752004, 37.576133],\r\n\r\n    // уменьшаем или увеличиваем масштаб\r\n    zoom: 15,\r\n  \r\n    // отключаем все ненужные элементы - Пробки\r\n    // controls: []\r\n    controls: ['zoomControl', 'fullscreenControl']\r\n\r\n  });\r\n\r\n  // Задаем точки геолокации можно не одну\r\n  const coords = [\r\n    [55.752004, 37.576133]\r\n  ];\r\n\r\n  const myCollection = new ymaps.GeoObjectCollection({}, {\r\n    draggable: false,\r\n    iconLayout: 'default#image',\r\n    iconImageHref: './assets/images/map/map_click.png',\r\n    iconImageSize: [58, 73],\r\n    iconImageOffset: [-35, -52]\r\n  });\r\n\r\n  coords.forEach(coord => {\r\n    myCollection.add(new ymaps.Placemark(coord));\r\n  });\r\n\r\n  myMap.geoObjects.add(myCollection);\r\n\r\n  // Отключаем возможность прокрутки \r\n  myMap.behaviors.disable('scrollZoom');\r\n}\r\n\r\nymaps.ready(init);","/* Индекс слайда по умолчанию */\r\nvar slideIndex = 1;\r\nshowSlides(slideIndex);\r\n\r\n/* Функция увеличивает индекс на 1, показывает следующй слайд*/\r\nfunction plusSlide() {\r\n    showSlides(slideIndex += 1);\r\n};\r\n\r\n/* Функция уменьшяет индекс на 1, показывает предыдущий слайд*/\r\nfunction minusSlide() {\r\n    showSlides(slideIndex -= 1);\r\n};\r\n\r\n/* Устанавливает текущий слайд */\r\nwindow.currentSlide = function (n) {\r\n    showSlides(slideIndex = n);\r\n};\r\n\r\n/* Основная функция сладера */\r\nfunction showSlides(n) {\r\n    var i;\r\n    var slides = document.getElementsByClassName(\"slider__track\");\r\n    var dots = document.getElementsByClassName(\"slider__dots-item\");\r\n    if (n > slides.length) {\r\n        slideIndex = 1\r\n    }\r\n    if (n < 1) {\r\n        slideIndex = slides.length\r\n    }\r\n    for (i = 0; i < slides.length; i++) {\r\n        slides[i].style.display = \"none\";\r\n    }\r\n    for (i = 0; i < dots.length; i++) {\r\n        dots[i].className = dots[i].className.replace(\" actives\", \"\");\r\n    }\r\n    slides[slideIndex - 1].style.display = \"flex\";\r\n    dots[slideIndex - 1].className += \" actives\";\r\n};\r\n","var slideShopIndex = 1;\r\n\r\nwindow.plusItem = function (plusItem) {\r\n    showShopItem(slideShopIndex += 1);\r\n};\r\n\r\nwindow.minusItem = function (minusItem) {\r\n    showShopItem(slideShopIndex -= 1); // Функция уменьшяет индекс на 1, показывает предыдущий слайд\r\n};\r\n\r\nfunction currentItem(s) {\r\n    showShopItem(slideShopIndex = s); // Устанавливает текущий слайд\r\n};\r\n\r\n/* Основная функция слайдера */\r\nfunction showShopItem(s) {\r\n    var element;\r\n    var shopItem = document.getElementsByClassName(\"shop__item\");\r\n    var shopBtn = document.getElementsByClassName(\"slider__carousel-btn\");\r\n    if (s > shopItem.length) {\r\n        slideShopIndex = 1\r\n    }\r\n    if (s < 1) {\r\n        slideShopIndex = shopItem.length\r\n    }\r\n    for (element = 0; element < shopItem.length; element++) {\r\n        shopItem[element].style.display = \"none\";\r\n    }\r\n    shopItem[slideShopIndex - 1].style.display = \"\";\r\n    shopBtn[slideShopIndex - 1];\r\n};\r\n","\r\nconst team = document.querySelector('.team');\r\n/* Функция для открытия контента по нажатию на ссылку */\r\nfunction openItem(button) {\r\n    const contentWrap = button.nextElementSibling;\r\n    const content = contentWrap.firstElementChild;\r\n    const currentHeight = content.offsetHeight;\r\n\r\n    contentWrap.style.height = currentHeight + 'px';\r\n    button.classList.add('team__name--active', 'has-name--active');\r\n};\r\n\r\n/* Функция для закрытия контента по нажатию на ссылку */\r\nfunction closeItem(button) {\r\n    if (!button) return;\r\n    const contentWrap = button.nextElementSibling;\r\n    contentWrap.style.height = 0;\r\n    button.classList.remove('team__name--active', 'has-name--active');\r\n};\r\n\r\nteam.addEventListener('click', function (event) {\r\n  event.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\n  const target = event.target;\r\n  const activeItem = document.querySelector('.team__name--active', '.has-name--active');\r\n\r\n  if (target.classList.contains('team__name')) {\r\n    if (target.classList.contains('team__name--active', 'has-name--active')) {\r\n      closeItem(target);\r\n    } else {\r\n      closeItem(activeItem);\r\n      openItem(target);\r\n    }\r\n  }\r\n});\r\n\r\n","\r\n/* Большая кнопка воспроизведения */\r\nconst playBtn = document.querySelector(\".video__player-img\");\r\n\r\n/* Малая кнопка воспроизведения */\r\nconst playerPlayBtn = document.querySelector(\".duration__img\");\r\n\r\n/* Само меню */\r\nconst video = document.getElementById(\"player\");\r\n\r\n/* input с помощью которого выставляется время воспроизведения */\r\nconst durationControl = document.getElementById(\"durationLevel\");\r\n\r\n/* input с помощью которого выставляется громкость */\r\nconst soundControl = document.getElementById(\"micLevel\");\r\n\r\n/* Обертка управления громкостью */\r\nconst soundBtn = document.getElementById(\"soundBtn\");\r\n\r\n/* Кнопка с динамиком с помощью которой мы будем включать или выключать громкость */\r\nconst dynamicBtn = document.getElementById(\"dynamic\");\r\n\r\n/* Индификатор интервала, который будет отрисовывать текущее время воспроизведения */\r\nlet intervalId;\r\n\r\n/* Переменная для сохранения уровня громкости перед выключением звука */\r\nlet soundLevel;\r\n\r\n\r\nwindow.addEventListener('load', function() {\r\n\r\n    /* При клике на само видео выполняем функцию playStop */\r\n    video.addEventListener(\"click\", playStop);\r\n\r\n    /* Находи все кнопки управления play/pause */\r\n    let playButtons = document.querySelectorAll(\".play\");\r\n\r\n    for (let i = 0; i < playButtons.length; i++) {\r\n        /* При клике на эти кнопки выполняем функию playStop */\r\n        playButtons[i].addEventListener(\"click\", playStop);\r\n    }\r\n\r\n    /* Выставляем минимальное значение ползунка времени воспроизведения */\r\n    durationControl.min = 0;\r\n\r\n    /* Выставляем время воспроизведения в ноль */\r\n    durationControl.value = 0;\r\n\r\n    /* Выставляем максимальное значение ползунка времени воспроизведения*/\r\n    durationControl.max = video.duration;\r\n\r\n    /* При кликах или перетягивании ползунка выполняем функцию setVideoDuration */\r\n    durationControl.addEventListener(\"input\", setVideoDuration);\r\n\r\n    /* Выставляем минимальное значение ползунка громкости */\r\n    soundControl.min = 0;\r\n\r\n    /* Выставляем максимальное значение ползунка громкости */\r\n    soundControl.max = 10;\r\n\r\n    /* Выставляем текущее положение положение ползунка громкости на максимум  */\r\n    soundControl.value = soundControl.max;\r\n\r\n    /* При кликах или перетягивание ползунка выполняем функцию changeSoundVolume */\r\n    soundControl.addEventListener(\"input\", changeSoundVolume);\r\n\r\n    /* При клике на динамик выполняем soundOf */\r\n    dynamicBtn.addEventListener('click', soundOf);\r\n\r\n    /* Когда видео закончится  */\r\n    video.addEventListener('ended', () => {\r\n        /* Высталяем классы на кнопки, что бы отобразить, что можно воспроизвести */\r\n        playBtn.classList.toggle('video__player-img--active');\r\n        playerPlayBtn.classList.remove('active');\r\n\r\n        /* Устанавливаем время воспроизведения в ноль */\r\n        video.currentTime = 0;\r\n    })\r\n});\r\n\r\n/* Функция воспроизводить/поставить на паузу */\r\nfunction playStop() {\r\n    /* Устанавливает активные классы на элементы чтоб показать возспроизведение */\r\n    playBtn.classList.toggle(\"video__player-img--active\");\r\n    playerPlayBtn.classList.toggle(\"active\");\r\n\r\n    /* Если видео на паузе */\r\n    if (video.paused) { \r\n        video.play(); // Запускаем его\r\n\r\n        // Запускаем отрисовку ползунка воспроизведения\r\n        intervalId = setInterval(updateDuration, 1000 / 60);\r\n        // Если видео не на паузе\r\n    } else {\r\n\r\n        // Останавливаем отрисовку ползунка времени воспроизведения\r\n        clearInterval(intervalId);\r\n\r\n        // Ставим видео на паузу\r\n        video.pause();\r\n    }\r\n}\r\n\r\n/* Функция устанавливает текущее время воспроизведения */\r\nfunction setVideoDuration() {\r\n\r\n    /* Устанавливает текущее время воспроизведения видео по позиции ползунка */\r\n    video.currentTime = durationControl.value;\r\n\r\n    /* Отрисовывает полосу прогресса */\r\n    updateDuration();\r\n}\r\n\r\n/*Функция для обновления позиции ползунка продолжительности видео */\r\n\r\nfunction updateDuration() {\r\n\r\n    /* Устанавливаем в наш импут текущее время */\r\n    durationControl.value = video.currentTime;\r\n\r\n    /* Рассчитываем процент для закраски програсса */\r\n    let step = video.duration / 100;\r\n    let percent = video.currentTime / step;\r\n  \r\n    /* Устанавливаем стили */\r\n    durationControl.style.background = `linear-gradient(90deg, #FEDB3F 0%, #FEDB3F ${percent}%, #626262 ${percent}%)`;\r\n}\r\n\r\n/* Функция изминения уровня громкости */\r\nfunction changeSoundVolume() {\r\n\r\n    /* Видео принимает только значения  от 0 до 1, то есть дробные числа\r\n    поэтому текущее значение ползунка громкости делим на 10 */\r\n    video.volume = soundControl.value / 10;\r\n\r\n    /* Если мы выставили ползунок в ноль */\r\n    if (video.volume === 0) {\r\n\r\n        /* то отображаем на динамике что звук выключен */\r\n        soundBtn.classList.add(\"active\");\r\n\r\n        /* Если звук не выключен, то снимаем отображение выключенного звука с иконки */\r\n    } else {\r\n        soundBtn.classList.remove(\"active\");\r\n    }\r\n}\r\n\r\n/* Функция включения/выключения звука */\r\nfunction soundOf() {\r\n\r\n    /* Если при запуске функции звук выключен */\r\n    if (video.volume === 0) {\r\n        /* Мы берем предыдущее сохраненное значение громкости  и выставляем в вмдео */\r\n        video.volume = soundLevel;\r\n\r\n        /* Отрисовываем это в ползунок громкости */\r\n        soundControl.value = soundLevel * 10;\r\n\r\n        /* Убираем отображение выключенного звука с иконки динамика */\r\n        soundBtn.classList.remove('active');\r\n\r\n        /* если при запуске функции звук включен */\r\n    } else {\r\n        /* Сохраняем текущее значение громкости */\r\n        soundLevel = video.volume;\r\n\r\n        /* Выставляем громкость на 0 */\r\n        video.volume = 0;\r\n\r\n        /* Отрисовываем это на ползунке громкости  */\r\n        soundControl.value = 0;\r\n\r\n        /* Отображаем на иконке динамика, что звук выключен */\r\n        soundBtn.classList.add('active');\r\n    }\r\n}\r\n"],"names":[],"sourceRoot":""}