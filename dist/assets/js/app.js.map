{"version":3,"file":"app.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC","sources":["webpack://loftschool/./src/assets/js/app.js"],"sourcesContent":["// Слайдер в секции с отзывами начало\r\n/* Индекс слайда по умолчанию */\r\nvar slideIndex = 1;\r\nshowSlides(slideIndex);\r\n\r\n/* Функция увеличивает индекс на 1, показывает следующй слайд*/\r\nfunction plusSlide() {\r\n    showSlides(slideIndex += 1);\r\n}\r\n\r\n/* Функция уменьшяет индекс на 1, показывает предыдущий слайд*/\r\nfunction minusSlide() {\r\n    showSlides(slideIndex -= 1);\r\n}\r\n\r\n/* Устанавливает текущий слайд */\r\nfunction currentSlide(n) {\r\n    showSlides(slideIndex = n);\r\n}\r\n\r\n/* Основная функция сладера */\r\nfunction showSlides(n) {\r\n    var i;\r\n    var slides = document.getElementsByClassName(\"slider__track\");\r\n    var dots = document.getElementsByClassName(\"slider__dots-item\");\r\n    if (n > slides.length) {\r\n        slideIndex = 1\r\n    }\r\n    if (n < 1) {\r\n        slideIndex = slides.length\r\n    }\r\n    for (i = 0; i < slides.length; i++) {\r\n        slides[i].style.display = \"none\";\r\n    }\r\n    for (i = 0; i < dots.length; i++) {\r\n        dots[i].className = dots[i].className.replace(\" actives\", \"\");\r\n    }\r\n    slides[slideIndex - 1].style.display = \"flex\";\r\n    dots[slideIndex - 1].className += \" actives\";\r\n}\r\n// Слайдер в секции с отзывами конец\r\n\r\n// Бургер меню с открытием навигации начало\r\n$(\"#jsburger\").on(\"click\", function(event) {\r\n    event.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\n\r\n$(this).toggleClass(\"active\");\r\n$(\"#jsnav\").toggleClass(\"active\");\r\n})\r\n// Бургер меню с открытием навигации конец\r\n\r\n// Секция shop со слайдером - сам слайдер -начало-\r\n\r\nvar slideShopIndex = 1;\r\nshowSlides(slideShopIndex);\r\n\r\nfunction plusItem() {\r\n    showShopItem(slideShopIndex += 1);\r\n}\r\n\r\nfunction minusItem() {\r\n    showShopItem(slideShopIndex -= 1); // Функция уменьшяет индекс на 1, показывает предыдущий слайд\r\n}\r\n\r\nfunction currentItem(s) {\r\n    showShopItem(slideShopIndex = s); // Устанавливает текущий слайд\r\n}\r\n\r\n/* Основная функция слайдера */\r\nfunction showShopItem(s) {\r\n    var element;\r\n    var shopItem = document.getElementsByClassName(\"shop__item\");\r\n    var shopBtn = document.getElementsByClassName(\"slider__carousel-btn\");\r\n    if (s > shopItem.length) {\r\n        slideShopIndex = 1\r\n    }\r\n    if (s < 1) {\r\n        slideShopIndex = shopItem.length\r\n    }\r\n    for (element = 0; element < shopItem.length; element++) {\r\n        shopItem[element].style.display = \"none\";\r\n    }\r\n    shopItem[slideShopIndex - 1].style.display = \"\";\r\n    shopBtn[slideShopIndex - 1];\r\n}\r\n// Секция shop со слайдером - сам слайдер -конец-\r\n\r\n\r\n// Секция Team аккардион -начало-\r\nconst team = document.querySelector('.team');\r\n/* Функция для открытия контента по нажатию на ссылку */\r\nfunction openItem(button) {\r\n    const contentWrap = button.nextElementSibling;\r\n    const content = contentWrap.firstElementChild;\r\n    const currentHeight = content.offsetHeight;\r\n\r\n    contentWrap.style.height = currentHeight + 'px';\r\n    button.classList.add('team__name--active', 'has-name--active');\r\n}\r\n\r\n/* Функция для закрытия контента по нажатию на ссылку */\r\nfunction closeItem(button) {\r\n    if (!button) return;\r\n    const contentWrap = button.nextElementSibling;\r\n    contentWrap.style.height = 0;\r\n    button.classList.remove('team__name--active', 'has-name--active');\r\n}\r\n\r\nteam.addEventListener('click', function (event) {\r\n    event.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\n    const target = event.target;\r\n    const activeItem = document.querySelector('.team__name--active', '.has-name--active');\r\n\r\n    if (target.classList.contains('team__name')) {\r\n        if (target.classList.contains('team__name--active','has-name--active')) {\r\n            closeItem(target);\r\n        } else {\r\n            closeItem(activeItem);\r\n            openItem(target);\r\n        }\r\n    }\r\n})\r\n// Секция Team аккардион -конец-\r\n\r\n\r\n// Секция form модельное окно -начало-\r\nconst validateFields = (form, fieldsArray) => {\r\n\r\n    fieldsArray.forEach(field => {\r\n        field.removeClass(\"input-error\");\r\n        if (field.val().trim() === \"\") {\r\n            field.addClass(\"input-error\");\r\n        }\r\n    });\r\n    const errorFields = form.find(\".input-error\");\r\n    return errorFields.length === 0;\r\n};\r\n\r\n$('.form').submit(e => {\r\n    e.preventDefault(); // запрещаем перекидывать вверх или перезагрузать страницу\r\n    const form = $(e.currentTarget);\r\n    const name = form.find(\"[name='name']\");\r\n    const phone = form.find(\"[name='tel']\");\r\n    const comment = form.find(\"[name='comment']\");\r\n    const to = form.find(\"[name='to']\");\r\n\r\n    const modal = $(\"#modal\");\r\n    const content = modal.find(\".modal__content\");\r\n\r\n    modal.removeClass(\"error-modal\");\r\n\r\n    const isValid = validateFields(form, [name, phone, comment, to]);\r\n\r\n    if (isValid) {\r\n        const request = $.ajax({\r\n            url: \"https://webdev-api.loftschool.com/sendmail\",\r\n            method: \"post\",\r\n            data: {\r\n                name: name.val(),\r\n                phone: phone.val(),\r\n                comment: comment.val(),\r\n                to: to.val(),\r\n            },\r\n        });\r\n        request.done(data => {\r\n            content.text(data.message);\r\n        });\r\n        request.fail(data => {\r\n            const message = data.responseJSON.message;\r\n            content.text(message);\r\n            modal.addClass(\"error-modal\");\r\n        });\r\n        request.always(() => {\r\n            $.fancybox.open({\r\n                src: \"#modal\",\r\n                type: \"inline\"\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\n$(\".js-submit-btn\").click(e => {\r\n    e.preventDefault();\r\n\r\n    $.fancybox.close();\r\n});\r\n// Секция form модельное окно -конец-\r\n\r\n// Секция меню с вертикальным аккордеонам -начало-\r\n\r\nconst menu = document.getElementById('horixontalMenu');\r\nconst items = document.querySelectorAll(\".menu__item\");\r\n\r\nconst getItemWidth = (item) => {\r\n    let resultWidth = 524;\r\n    const windowWidth = window.innerWidth;\r\n    const itemWidth = item.offsetWidth;\r\n\r\n    const isTablet = window.matchMedia('(max-width: 768px)').matches;\r\n    const isMobile = window.matchMedia('(max-width: 480px)').matches;\r\n\r\n    if (isTablet) {\r\n        resultWidth = windowWidth - itemWidth * items.length;\r\n    }\r\n    if (isMobile) {\r\n        resultWidth = windowWidth - itemWidth;\r\n    }\r\n    return resultWidth;\r\n};\r\n\r\nconst opensItem = (item) => {\r\n\r\n    const itemParent = item.parentElement;\r\n    itemParent.classList.add('menu__item--active');\r\n    item.classList.add('menu__button--active');\r\n\r\n    const itemContent = item.nextElementSibling;\r\n    const itemText = itemContent.firstElementChild;\r\n    itemContent.style.width = `${getItemWidth(item)}px`;\r\n    itemText.style.width = `${getItemWidth(item)}px`;\r\n\r\n};\r\n\r\nconst closesItem = (item) => {\r\n    const itemParent = item.parentElement;\r\n    itemParent.classList.remove('menu__item--active');\r\n    item.classList.remove('menu__button--active');\r\n\r\n    const itemContent = item.nextElementSibling;\r\n    itemContent.style.width = 0;\r\n};\r\n\r\nmenu.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    const target = e.target; // ищем по чем мы кликаем\r\n    const isActive = target.classList.contains('menu__button--active');\r\n    const activeElement = document.querySelector(\".menu__button--active\");\r\n\r\n    if (target.classList.contains('menu__button') && isActive && activeElement) {\r\n        closesItem(target);\r\n    }\r\n\r\n    if (target.classList.contains('menu__button') && !isActive) {\r\n        if (activeElement) {\r\n            closesItem(activeElement);\r\n        }\r\n        opensItem(target);\r\n    }\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n    const activeElement = document.querySelector(\".menu__button--active\");\r\n    if (activeElement) {\r\n        closesItem(activeElement);\r\n}\r\n});\r\n// Секция меню с вертикальным аккордеонам -конец-\r\n\r\n// Секция видео проигрыватель -начало-\r\n\r\n/* Большая кнопка воспроизведения */\r\nconst playBtn = document.querySelector(\".video__player-img\");\r\n\r\n/* Малая кнопка воспроизведения */\r\nconst playerPlayBtn = document.querySelector(\".duration__img\");\r\n\r\n/* Само меню */\r\nconst video = document.getElementById('player');\r\n\r\n/* input с помощью которого выставляется время воспроизведения */\r\nconst durationControl = document.getElementById('durationLevel');\r\n\r\n/* input с помощью которого выставляется громкость */\r\nconst soundControl = document.getElementById('micLevel');\r\n\r\n/* Обертка управления громкостью */\r\nconst soundBtn = document.getElementById('soundBtn');\r\n\r\n/* Кнопка с динамиком с помощью которой мы будем включать или выключать громкость */\r\nconst dynamicBtn = document.getElementById('dynamic');\r\n\r\n/* Индификатор интервала, который будет отрисовывать текущее время воспроизведения */\r\nlet intervalId;\r\n\r\n/* Переменная для сохранения уровня громкости перед выключением звука */\r\nlet soundLevel;\r\n\r\n\r\nwindow.addEventListener('load', () => {\r\n\r\n    /* При клике на само видео выполняем функцию playStop */\r\n    video.addEventListener(\"click\", playStop);\r\n\r\n    /* Находи все кнопки управления play/pause */\r\n    let playButtons = document.querySelectorAll(\".play\");\r\n    for (let i = 0; i < playButtons.length; i++) {\r\n        /* При клике на эти кнопки выполняем функию playStop */\r\n        playButtons[i].addEventListener(\"click\", playStop);\r\n    }\r\n});\r\n\r\n/* Функция воспроизводить/поставить на паузу */\r\nfunction playStop() {\r\n    /* Устанавливает активные классы на элементы чтоб показать возспроизведение */\r\n    playBtn.classList.toggle(\"video__player-img--active\");\r\n    playerPlayBtn.classList.toggle(\"active\");\r\n\r\n    /* Если видео на паузе */\r\n    if (video.paused) { \r\n        video.play(); // Запускаем его\r\n        // Запускаем отрисовку ползунка воспроизведения\r\n        intervalId = setInterval(updateDuration, 1000 / 60);\r\n        // Если видео не на паузе\r\n    } else {\r\n        // Останавливаем отрисовку ползунка времени воспроизведения\r\n        clearInterval(intervalId);\r\n        // Ставим видео на паузу\r\n        video.pause();\r\n    }\r\n\r\n}\r\n// Секция видео проигрыватель -конец-"],"names":[],"sourceRoot":""}